{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\django-react\\\\frontend\\\\src\\\\views\\\\Update.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport '../views/Detail.css';\nimport { Link } from 'react-router-dom';\nimport { useHistory } from 'react-router';\nimport CKEditor from 'ckeditor4-react-advanced';\nimport { Form } from \"react-bootstrap\";\nconst titleStyle = {\n  marginBottom: 9,\n  width: 762\n};\n\nfunction Update(props) {\n  _s();\n\n  const handleChange = event => {\n    setContent(event.editor.getData()); // setContent(event.target.value);\n  };\n\n  const history = useHistory(); // let Today = new Date();\n  // let date = Today.getFullYear() + \"-\" + Today.getMonth() + \"-\" + Today.getDate()\n\n  let pgN = document.location.href.split('/')[4];\n  let [title, setTitle] = useState(\"\");\n  let [content, setContent] = useState(\"내용을 입력하세요.\");\n  let [detailList, setDetailList] = useState({});\n  let [detailUserInfo, setDetailUserInfo] = useState({});\n  let [detailDate, setDetailDate] = useState();\n  let [detailLang, setDetailLang] = useState([]);\n  let [detailLikedUser, setDetailLikedUser] = useState([]);\n  let [svgColor, setSvgColor] = useState({});\n  let [usergrade, setUserGrade] = useState();\n  let [currnetUser, setCurrentUser] = useState({});\n  let [urls, setUrls] = useState();\n  useEffect(() => {\n    fetch('http://39.118.174.168:8000/api/current_user/', {\n      headers: {\n        Authorization: `JWT ${localStorage.getItem('token')}`\n      }\n    }).then(res => res.json()).then(json => {\n      if (json.id === null || json.id === undefined) {\n        alert(\"로그인이 필요합니다.\");\n        window.location.href = \"/login\";\n      }\n\n      fetch('http://39.118.174.168:8000/api/profile/' + json.id + '/update/', {\n        method: 'PATCH',\n        headers: {\n          Authorization: `JWT ${localStorage.getItem('token')}`\n        }\n      }).then(res => res.json()).then(userData => {\n        setUserPhoto(userData.photo);\n        setUser_id(userData.user_id);\n        setUserNickname(userData.nickname);\n        setUserGrade(userData.grade);\n\n        if (userData.grade === 4) {\n          setUserGrade(\"일반 수강생\");\n          setUrls(\"student/\");\n        } else if (userData.grade === 3) {\n          setUserGrade(\"프리미엄 수강생\");\n          setUrls(\"premiumst/\");\n        } else if (userData.grade === 2) {\n          setUserGrade(\"일반 파트너\");\n          setUrls(\"partner/\");\n        } else if (userData.grade === 1) {\n          setUserGrade(\"프리미엄 파트너\");\n          setUrls(\"premium/\");\n        } else {\n          history.push('/profile');\n          alert(\"티어인증이 필요합니다\");\n        }\n      }).catch(error => {\n        console.log(error);\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n  }, [history]);\n  useEffect(() => {\n    fetch('http://39.118.174.168:8000/board/' + urls + pgN + \"/\").then(res => res.json()).then(posts => {\n      console.log(urls);\n      setDetailList(posts);\n      let Y = posts.pub_date.split('-')[0];\n      let M = posts.pub_date.split('-')[1];\n      let D = posts.pub_date.split('-')[2].split('T')[0];\n      setDetailDate(Y + \"년 \" + M + \"월 \" + D + \"일\");\n      setDetailLang(posts.infomation.split(','));\n      setDetailLikedUser(posts.likedUser.split(','));\n      fetch('http://39.118.174.168:8000/api/current_user/', {\n        headers: {\n          Authorization: `JWT ${localStorage.getItem('token')}`\n        }\n      }).then(res => res.json()).then(json => {\n        fetch('http://39.118.174.168:8000/api/profile/' + json.id + '/update/', {\n          method: 'PATCH',\n          headers: {\n            Authorization: `JWT ${localStorage.getItem('token')}`\n          }\n        }).then(res => res.json()).then(userData => {\n          setCurrentUser(userData);\n        });\n      });\n      fetch('http://39.118.174.168:8000/api/profile/' + posts.user_id + '/').then(res => res.json()).then(info => {\n        setDetailUserInfo(info);\n      });\n    });\n  }, [pgN, props.path]);\n\n  const DelBoard = () => {\n    if (currnetUser.user_id === detailList.user_id || currnetUser.Tier === \"운영자\") {\n      if (window.confirm('정말 삭제하시겠습니까 ?') === true) {\n        fetch('http://39.118.174.168:8000/board/' + props.path + pgN + \"/delete/\", {\n          method: 'DELETE',\n          headers: {\n            Authorization: `JWT ${localStorage.getItem('token')}`\n          }\n        }).then(res => res.json()).catch(error => console.error('Error:', error)).then(response => console.log('Success:', JSON.stringify(response)));\n        window.location.href = '/' + props.path;\n      }\n    } else {\n      alert(\"권한이 없습니다.\");\n    }\n  };\n\n  const UpdateBoard = () => {\n    detailList.user_id === currnetUser.user_id ? history.push(\"/update/\" + pgN) : alert(\"권한이 없습니다.\");\n  };\n\n  let sendData;\n\n  const handleEffect = ClickLikeBtn => {\n    if (currnetUser.user_id !== null && currnetUser.user_id !== undefined && currnetUser.user_id !== \"\") {\n      // detailLikedUser라는 state값이 currentUser.user_pk(접속해있는 유저의 pk값)을 index로 가지고있지 않다면\n      if (detailLikedUser.indexOf(currnetUser.user_id + \"\") === -1) {\n        //추천\n        let arr = [...detailLikedUser];\n        arr.push(currnetUser.user_id);\n        let plusUser = arr.join(',');\n        sendData = {\n          like: detailList.like + 1,\n          likedUser: plusUser\n        };\n        setSvgColor({\n          color: \"black\"\n        });\n      } else {\n        //추천취소\n        let arr = [...detailLikedUser];\n        arr.splice(arr.indexOf(currnetUser.user_id + \"\"), 1);\n        let minusUser = arr.join(',');\n        sendData = {\n          like: detailList.like - 1,\n          likedUser: minusUser\n        };\n        setSvgColor({\n          color: \"gray\"\n        });\n      }\n\n      ClickLikeBtn();\n    } else {\n      alert(\"로그인이 필요합니다.\");\n      window.location.href = \"/login\";\n    }\n  };\n\n  const ClickLikeBtn = () => {\n    let form_data = new FormData();\n    form_data.append('like', sendData.like);\n    form_data.append('likedUser', sendData.likedUser);\n    fetch('http://39.118.174.168:8000/board/' + props.path + pgN + \"/update/\", {\n      method: 'PATCH',\n      headers: {\n        Authorization: `JWT ${localStorage.getItem('token')}`\n      },\n      body: form_data\n    }).then(res => res.json()).catch(error => console.error('Error:', error)).then(() => {\n      fetch('http://39.118.174.168:8000/board/' + props.path + pgN + \"/\").then(res => res.json()).then(posts => {\n        setDetailList(posts);\n        console.log(posts);\n        setDetailLikedUser(posts.likedUser.split(','));\n      });\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"detail__container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"detail__head-wrapper\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: detailList.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"detail__head-btn\",\n          children: detailList.user_id === currnetUser.user_id || currnetUser.Tier === \"운영자\" ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: UpdateBoard,\n              children: \"\\uC218\\uC815\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: DelBoard,\n              children: \"\\uC0AD\\uC81C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true) : null\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"detail__head-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"information\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"detail__head-username\",\n              children: detailList.nickname\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"separator\",\n              children: \"\\xB7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [detailDate, detailList.updateCount === 0 ? null : \"  ·  수정됨\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"detail__head-mobileLike\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"likeBtn\",\n              children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                width: \"24\",\n                height: \"24\",\n                viewBox: \"0 0 24 24\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  fill: \"currentColor\",\n                  d: \"M18 1l-6 4-6-4-6 5v7l12 10 12-10v-7z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 234,\n                  columnNumber: 81\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 234,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: detailList.like\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 235,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"detail__head-like\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"iCfLcp\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"dtrfkW\",\n              onClick: () => {\n                handleEffect(ClickLikeBtn);\n              },\n              children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                style: svgColor,\n                width: \"24\",\n                height: \"24\",\n                viewBox: \"0 0 24 24\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  fill: \"currentColor\",\n                  d: \"M18 1l-6 4-6-4-6 5v7l12 10 12-10v-7z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 243,\n                  columnNumber: 98\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 243,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"sc-iyvyFf bJqQCy\",\n              children: detailList.like\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filetrList\",\n          children: detailLang.map((a, i) => {\n            return /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"#\", a]\n            }, i, true, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 33\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 21\n        }, this), detailList.image === null ? null : /*#__PURE__*/_jsxDEV(\"img\", {\n          src: detailList.image,\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 27\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"detail__body-wrapper\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"detail__content\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"text\",\n            style: titleStyle,\n            placeholder: \"\\uC81C\\uBAA9\\uC744 \\uC785\\uB825\\uD558\\uC138\\uC694\",\n            onChange: e => {\n              setTitle(e.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(CKEditor, {\n            value: content,\n            onChange: handleChange,\n            config: {\n              extraPlugins: 'print,format,font,colorbutton,justify,uploadimage,image2',\n              filebrowserUploadMethod: \"form\",\n              uiColor: \"#AADC6E\",\n              // filebrowserBrowseUrl: 'https://photos.app.goo.gl/SANrgCwEDWP8A2aP7?type=Files',\n              // filebrowserUploadUrl :\"https://photos.app.goo.gl/SANrgCwEDWP8A2aP7?type=Files\",\n              filebrowserUploadUrl: \"https://photos.app.goo.gl/SANrgCwEDWP8A2aP7/\",\n              filebrowserImageUploadUrl: \"https://photos.app.goo.gl/SANrgCwEDWP8A2aP7/ckfinder/core/connector/php/connector.php?command=QuickUpload&type=Images&responseType=json\",\n              filebrowserBrowseUrl: 'https://photos.app.goo.gl/SANrgCwEDWP8A2aP7/',\n              filebrowserImageBorwseUrl: \"https://photos.app.goo.gl/SANrgCwEDWP8A2aP7?Type=Images\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"detail__footer-wrapper\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"detail__writerInfo\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"detail__topInfo\",\n            children: [/*#__PURE__*/_jsxDEV(Link, {\n              to: \"/mysite/\" + detailList.id,\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: detailList.profileImage,\n                alt: \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 299,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 298,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"detail__userInfo\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"description\",\n                children: detailUserInfo.myInfo\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 302,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"sc-epnACN eIoWCE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"detail__buttomInfo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"detail__comment-wrapper\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"detail__comment-width\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"margin__top\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 322,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n}\n\n_s(Update, \"lybIle87kJWp/5smFEMiImS7uvc=\", false, function () {\n  return [useHistory];\n});\n\n_c = Update;\nexport default Update;\n\nvar _c;\n\n$RefreshReg$(_c, \"Update\");","map":{"version":3,"sources":["C:/django-react/frontend/src/views/Update.js"],"names":["React","useState","useEffect","Link","useHistory","CKEditor","Form","titleStyle","marginBottom","width","Update","props","handleChange","event","setContent","editor","getData","history","pgN","document","location","href","split","title","setTitle","content","detailList","setDetailList","detailUserInfo","setDetailUserInfo","detailDate","setDetailDate","detailLang","setDetailLang","detailLikedUser","setDetailLikedUser","svgColor","setSvgColor","usergrade","setUserGrade","currnetUser","setCurrentUser","urls","setUrls","fetch","headers","Authorization","localStorage","getItem","then","res","json","id","undefined","alert","window","method","userData","setUserPhoto","photo","setUser_id","user_id","setUserNickname","nickname","grade","push","catch","error","console","log","posts","Y","pub_date","M","D","infomation","likedUser","info","path","DelBoard","Tier","confirm","response","JSON","stringify","UpdateBoard","sendData","handleEffect","ClickLikeBtn","indexOf","arr","plusUser","join","like","color","splice","minusUser","form_data","FormData","append","body","updateCount","map","a","i","image","e","target","value","extraPlugins","filebrowserUploadMethod","uiColor","filebrowserUploadUrl","filebrowserImageUploadUrl","filebrowserBrowseUrl","filebrowserImageBorwseUrl","profileImage","myInfo"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport '../views/Detail.css';\nimport {Link} from 'react-router-dom';\nimport { useHistory } from 'react-router'\nimport CKEditor from 'ckeditor4-react-advanced';\nimport {Form} from \"react-bootstrap\";\n\n\nconst titleStyle = {\n    marginBottom: 9,\n    width: 762,\n\n  };\n\n  \nfunction Update(props){\n      const handleChange = (event) => {\n    setContent(event.editor.getData())\n    // setContent(event.target.value);\n  };\n    const history = useHistory()\n    // let Today = new Date();\n    // let date = Today.getFullYear() + \"-\" + Today.getMonth() + \"-\" + Today.getDate()\n\n    let pgN = document.location.href.split('/')[4]\n    let [title , setTitle] = useState(\"\")\n    let [content , setContent] = useState(\"내용을 입력하세요.\")\n    let [detailList, setDetailList] = useState({});\n    let [detailUserInfo, setDetailUserInfo] = useState({});\n    let [detailDate, setDetailDate] = useState();\n    let [detailLang, setDetailLang] = useState([]);\n\n    let [detailLikedUser, setDetailLikedUser] = useState([]);\n    let [svgColor, setSvgColor] = useState({});\n    let [usergrade, setUserGrade] = useState()\n    let [currnetUser, setCurrentUser] = useState({});\n    let [urls, setUrls] = useState()\n\n    useEffect(()=>{\n        fetch('http://39.118.174.168:8000/api/current_user/', {\n          headers: {\n            Authorization: `JWT ${localStorage.getItem('token')}`\n          }\n        })\n        .then(res => res.json())\n        .then(json => {\n          if (json.id === null || json.id === undefined) {\n            alert(\"로그인이 필요합니다.\")\n            window.location.href = \"/login\"\n        }fetch('http://39.118.174.168:8000/api/profile/' + json.id + '/update/',{\n                method : 'PATCH',\n                headers: {\n                    Authorization: `JWT ${localStorage.getItem('token')}`\n                },\n            })\n            .then((res)=>res.json())\n            .then((userData)=> {\n                setUserPhoto(userData.photo);\n                setUser_id(userData.user_id);\n                setUserNickname(userData.nickname);\n                setUserGrade(userData.grade);\n                if(userData.grade===4){\n                  setUserGrade(\"일반 수강생\");\n                  setUrls(\"student/\");\n                } else if(userData.grade===3){\n                  setUserGrade(\"프리미엄 수강생\");\n                  setUrls(\"premiumst/\");\n                } else if(userData.grade===2){\n                  setUserGrade(\"일반 파트너\");\n                  setUrls(\"partner/\");\n                } else if(userData.grade===1){\n                  setUserGrade(\"프리미엄 파트너\");\n                  setUrls(\"premium/\");\n                } else{\n                  history.push('/profile');\n                  alert(\"티어인증이 필요합니다\");\n                }\n            })\n            .catch(error => {\n                console.log(error);\n              });\n        }).catch(error => {\n            console.log(error)\n          });\n    },[history])\n\n    useEffect(()=>{\n        fetch('http://39.118.174.168:8000/board/'+ urls + pgN + \"/\")\n    \n        .then((res)=>res.json())\n            .then((posts)=>{\n                console.log(urls);\n                setDetailList(posts)\n                let Y = posts.pub_date.split('-')[0]\n                let M = posts.pub_date.split('-')[1]\n                let D = posts.pub_date.split('-')[2].split('T')[0]\n                setDetailDate(Y + \"년 \" + M + \"월 \" + D + \"일\")\n                setDetailLang(posts.infomation.split(','))\n                setDetailLikedUser(posts.likedUser.split(','))\n                \n                fetch('http://39.118.174.168:8000/api/current_user/', {\n                headers: {\n                    Authorization: `JWT ${localStorage.getItem('token')}`\n                }\n                })\n                .then(res => res.json())\n                .then(json => {\n                fetch('http://39.118.174.168:8000/api/profile/' + json.id + '/update/',{\n                        method : 'PATCH',\n                        headers: {\n                            Authorization: `JWT ${localStorage.getItem('token')}`\n                        },\n                    })\n                    .then((res)=>res.json())\n                    .then((userData)=> {\n                        setCurrentUser(userData);\n                    })\n                })  \n                fetch('http://39.118.174.168:8000/api/profile/' + posts.user_id + '/')\n                .then((res)=>res.json())\n                .then((info)=>{\n                    setDetailUserInfo(info)\n                })\n            })\n    },[pgN,props.path])\n\n    const DelBoard = ()=>{\n        if((currnetUser.user_id === detailList.user_id) || currnetUser.Tier === \"운영자\"){\n            if(window.confirm('정말 삭제하시겠습니까 ?')===true){\n                fetch('http://39.118.174.168:8000/board/'+ props.path + pgN + \"/delete/\", {\n                method : 'DELETE',\n                headers: {\n                    Authorization : `JWT ${localStorage.getItem('token')}`,\n                }\n                })\n                .then(res => res.json())\n                .catch(error => console.error('Error:', error))\n                .then(response => console.log('Success:', JSON.stringify(response)));\n                window.location.href = '/' + props.path;\n            }\n        }else{\n            alert(\"권한이 없습니다.\")\n        }\n    }\n\n    const UpdateBoard = () => {\n        detailList.user_id === currnetUser.user_id\n        ? history.push(\"/update/\"+pgN)\n        : alert(\"권한이 없습니다.\")\n    }\n\n\n    let sendData;\n    const handleEffect = (ClickLikeBtn) => {\n        if(currnetUser.user_id !== null && currnetUser.user_id !== undefined && currnetUser.user_id !== \"\"){\n        // detailLikedUser라는 state값이 currentUser.user_pk(접속해있는 유저의 pk값)을 index로 가지고있지 않다면\n            if(detailLikedUser.indexOf(currnetUser.user_id + \"\") === -1){ //추천\n                let arr = [...detailLikedUser]\n                arr.push(currnetUser.user_id)\n                let plusUser = arr.join(',')\n                sendData = {\n                    like : detailList.like + 1,\n                    likedUser : plusUser\n                }\n                setSvgColor({color : \"black\"})\n            }else{ //추천취소\n                let arr = [...detailLikedUser]\n                arr.splice(arr.indexOf(currnetUser.user_id + \"\"), 1)\n                let minusUser = arr.join(',')\n                 sendData = {\n                    like : detailList.like - 1,\n                    likedUser : minusUser\n                }\n                setSvgColor({color : \"gray\"}) \n            }\n            ClickLikeBtn()\n        }else {\n            alert(\"로그인이 필요합니다.\")\n            window.location.href =\"/login\"\n        }\n        \n    }\n\n    const ClickLikeBtn = ()=>{\n        let form_data = new FormData();\n        form_data.append('like', sendData.like);\n        form_data.append('likedUser', sendData.likedUser);\n\n        fetch('http://39.118.174.168:8000/board/'+ props.path + pgN + \"/update/\", {\n            method : 'PATCH',\n            headers: {\n                Authorization : `JWT ${localStorage.getItem('token')}`,\n            },\n            body : form_data\n        })\n        .then(res => res.json())\n        .catch(error => console.error('Error:', error))\n        .then(()=>{\n            fetch('http://39.118.174.168:8000/board/'+ props.path + pgN + \"/\")\n            .then((res)=>res.json())\n            .then((posts)=>{\n                setDetailList(posts)\n                console.log(posts)\n                setDetailLikedUser(posts.likedUser.split(','))\n            });\n        })\n    }    \n\n    return(\n        <>\n            <div className=\"detail__container\">\n                <div className=\"detail__head-wrapper\">\n                    <h1>{detailList.title}</h1>\n                    <div className=\"detail__head-btn\">\n                        {\n                            detailList.user_id === currnetUser.user_id || currnetUser.Tier === \"운영자\"\n                            ?(\n                                <>\n                                <button onClick={UpdateBoard}>수정</button>\n                                <button onClick={DelBoard}>삭제</button>\n                                </>\n                            )\n                            : null\n                        }\n                    </div>\n                    <div className=\"detail__head-info\">\n                        <div className=\"information\">\n                            <span className=\"detail__head-username\">{detailList.nickname}</span>\n                            <span className=\"separator\">·</span>\n                            <span>{detailDate}{detailList.updateCount === 0 ? null : \"  ·  수정됨\"}</span>\n                        </div>\n                        <div className=\"detail__head-mobileLike\">\n                            <button className=\"likeBtn\">\n                                <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"currentColor\" d=\"M18 1l-6 4-6-4-6 5v7l12 10 12-10v-7z\"></path></svg>\n                                <span>{detailList.like}</span>\n                            </button>\n                        </div>\n                    </div>\n                    \n                    <div className=\"detail__head-like\">\n                        <div className=\"iCfLcp\">\n                            <div className=\"dtrfkW\" onClick={()=>{handleEffect(ClickLikeBtn)}}>\n                                <svg style={svgColor} width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"currentColor\" d=\"M18 1l-6 4-6-4-6 5v7l12 10 12-10v-7z\"></path></svg>\n                            </div>\n                            <div className=\"sc-iyvyFf bJqQCy\">{detailList.like}</div>\n                        </div>\n                    </div>\n                    <div className=\"filetrList\">\n                    {\n                        detailLang.map((a, i)=>{\n                            return(\n                                <p key={i}>#{a}</p>\n                            )\n                        })\n                    }\n                    </div>\n                    {\n                        detailList.image === null\n                        ? null\n                        : <img src={detailList.image} alt=\"\"></img>\n                    }\n                   \n                </div>\n                <div className=\"detail__body-wrapper\">\n                    <div className=\"detail__content\">\n                    <Form.Control\n                    type = \"text\"\n                    style = {titleStyle}\n                    placeholder =\"제목을 입력하세요\"\n                    onChange = {(e)=>{setTitle(e.target.value)}}/>\n                    \n                    <CKEditor \n                    value = {content}\n                    onChange = {handleChange}\n                    config={{\n                    extraPlugins: 'print,format,font,colorbutton,justify,uploadimage,image2',\n                    filebrowserUploadMethod  : \"form\",\n                    uiColor: \"#AADC6E\",\n                    // filebrowserBrowseUrl: 'https://photos.app.goo.gl/SANrgCwEDWP8A2aP7?type=Files',\n                    // filebrowserUploadUrl :\"https://photos.app.goo.gl/SANrgCwEDWP8A2aP7?type=Files\",\n                    filebrowserUploadUrl :\"https://photos.app.goo.gl/SANrgCwEDWP8A2aP7/\",\n                    filebrowserImageUploadUrl :\"https://photos.app.goo.gl/SANrgCwEDWP8A2aP7/ckfinder/core/connector/php/connector.php?command=QuickUpload&type=Images&responseType=json\",\n                    filebrowserBrowseUrl: 'https://photos.app.goo.gl/SANrgCwEDWP8A2aP7/',\n                    filebrowserImageBorwseUrl :\"https://photos.app.goo.gl/SANrgCwEDWP8A2aP7?Type=Images\",\n        \n                }}\n                 />\n\n                        {/* <p dangerouslySetInnerHTML={{\n                            __html: detailList.contents\n                        }}></p> */}\n                    </div>\n                </div>\n\n                <div className=\"detail__footer-wrapper\">\n                    <div className=\"detail__writerInfo\">\n                        <div className=\"detail__topInfo\">\n                            <Link to={\"/mysite/\" + detailList.id}>\n                                <img src={detailList.profileImage} alt=\"\"></img>\n                            </Link>\n                            <div className=\"detail__userInfo\">\n                                <div className=\"description\">{detailUserInfo.myInfo}</div>\n                            </div>\n                        </div>\n                        <div className=\"sc-epnACN eIoWCE\"></div>\n                        <div className=\"detail__buttomInfo\">\n                      \n                        </div>\n                    </div>\n                </div>\n\n                <div className=\"detail__comment-wrapper\">\n                    {/* <h4>{commentList.length + reCommentList.length}개의 댓글</h4> */}\n                    <div className=\"detail__comment-width\">\n                        {/* <div>\n                            <textarea ref={commentTxt} defaultValue=\"\" placeholder=\"댓글을 작성하세요\" className=\"comment__textarea\" onChange={(e)=>{setCommentContent(e.target.value)}}></textarea>\n                            <div className=\"buttons-wrapper\">\n                                <button className=\"comment__btn\" onClick={()=>{CommentEffect(CommentSubmit)}}>댓글 작성</button>\n                            </div>\n                        </div> */}\n                        <div className=\"margin__top\">\n                            <div></div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </>\n    )\n}\nexport default Update;"]},"metadata":{},"sourceType":"module"}