{"ast":null,"code":"import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"C:/django-react/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{useHistory}from'react-router';import{Link}from\"react-router-dom\";import'./Profile.css';import InputLabel from'@material-ui/core/InputLabel';import MenuItem from'@material-ui/core/MenuItem';import FormControl from'@material-ui/core/FormControl';import Select from'@material-ui/core/Select';import{makeStyles}from'@material-ui/core/styles';var useStyles=makeStyles(function(theme){return{formControl:{minWidth:200,maxHeight:0,//   marginBottom : 10,\nposition:'relative',bottom:22}};});// 모달쓰기위한 \nfunction Profile(props){var classes=useStyles();var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),open=_React$useState2[0],setOpen=_React$useState2[1];var handleChange=function handleChange(event){setUserTier(event.target.value);};var handleClose=function handleClose(){setOpen(false);};var handleOpen=function handleOpen(){setOpen(true);};var history=useHistory();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),ModifyModal=_useState2[0],setModifymodal=_useState2[1];// let [tierModal, setTier] = useState()\n// let [tier] = useState(false) 티어\n// let [username_info] = useState(false) 아이디\n// let [email_info] = useState(false) 이메일 \n// let [number] = useState(false) 번호\n// let [name] = useState(false) 이름\n//profile[테이블에서 정보 받아옴]\nvar _useState3=useState(),_useState4=_slicedToArray(_useState3,2),userId=_useState4[0],setUserId=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),userPhoto=_useState6[0],setUserPhoto=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),userNickname=_useState8[0],setUserNickname=_useState8[1];var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),userPoint=_useState10[0],setUserPoint=_useState10[1];var _useState11=useState(),_useState12=_slicedToArray(_useState11,2),userGrade=_useState12[0],setUserGrade=_useState12[1];var _useState13=useState(),_useState14=_slicedToArray(_useState13,2),userIntro=_useState14[0],setUserIntro=_useState14[1];var _useState15=useState(),_useState16=_slicedToArray(_useState15,2),userTier=_useState16[0],setUserTier=_useState16[1];var _useState17=useState(),_useState18=_slicedToArray(_useState17,2),userUsername_info=_useState18[0],setUserName_info=_useState18[1];var _useState19=useState(),_useState20=_slicedToArray(_useState19,2),userEmail_info=_useState20[0],setUserEmail_info=_useState20[1];var _useState21=useState(),_useState22=_slicedToArray(_useState21,2),userNumber=_useState22[0],setUserNumber=_useState22[1];var _useState23=useState(),_useState24=_slicedToArray(_useState23,2),userName=_useState24[0],setUserName=_useState24[1];useEffect(function(){fetch('http://39.118.174.168:8000/api/current_user/',{headers:{Authorization:\"JWT \".concat(localStorage.getItem('token'))}}).then(function(res){return res.json();}).then(function(json){// 현재 유저 정보 받아왔다면, 로그인 상태로 state 업데이트 하고\nif(json.id){setUserId(json.id);//유저정보를 받아왔으면 해당 user의 프로필을 받아온다.\n}fetch('http://39.118.174.168:8000/api/profile/'+json.id+'/update/',{method:'PATCH',headers:{Authorization:\"JWT \".concat(localStorage.getItem('token'))}}).then(function(res){return res.json();})// 데이터베이스에서 가져오는 정확한 명\n.then(function(userData){setUserPhoto(userData.photo);setUserNickname(userData.nickname);setUserPoint(userData.point);setUserGrade(userData.grade);setUserIntro(userData.myIntro);setUserTier(userData.Tier);setUserName_info(userData.username_info);setUserEmail_info(userData.email_info);setUserName(userData.name);setUserNumber(userData.number);}).catch(function(error){console.log(error);});;}).catch(function(error){console.log(error);});},[userId]);var sendData;var handleEffect=function handleEffect(handleSubmit){sendData={point:userPoint,nickname:userNickname,grade:userGrade,myIntro:userIntro,username_info:userUsername_info,email_info:userEmail_info,name:userName,number:userNumber,Tier:userTier,photo:userPhoto};handleSubmit();};var handleSubmit=function handleSubmit(){var form_data=new FormData();form_data.append('point',sendData.point);form_data.append('nickname',sendData.nickname);form_data.append('grade',sendData.grade);form_data.append('myIntro',sendData.myIntro);form_data.append('Tier',sendData.Tier);fetch('http://39.118.174.168:8000/api/profile/'+userId+'/update/',{method:'PATCH',headers:{Authorization:\"JWT \".concat(localStorage.getItem('token'))},body:form_data}).then(function(res){return res.json();}).catch(function(error){return console.error('Error:',error);}).then(function(response){alert('프로필 정보 변경의 성공하셨습니다',response);});};var handleImageSubmit=function handleImageSubmit(){var form_data=new FormData();var fileField=document.querySelector('input[type=\"file\"]');form_data.append('photo',fileField.files[0]);fetch('http://39.118.174.168:8000/api/profile/'+userId+'/update/',{method:'PATCH',headers:{Authorization:\"JWT \".concat(localStorage.getItem('token'))},body:form_data}).then(function(res){return res.json();}).then(function(response){alert('이미지 저장의 성공하셨습니다',response);});};var DeleteUser=function DeleteUser(){if(window.confirm('정말 삭제하시겠습니까 ?')===true){fetch('http://39.118.174.168:8000/api/current_user/',{headers:{Authorization:\"JWT \".concat(localStorage.getItem('token'))}}).then(function(res){return res.json();}).then(function(json){fetch('http://39.118.174.168:8000/api/profile/'+json.id+'/delete/',{method:'DELETE',headers:{Authorization:\"Token \".concat(localStorage.getItem('token'))}}).then(function(res){return res.json();}).catch(function(error){console.log(error);});;}).catch(function(error){console.log(error);});props.handleLogout();history.push('/login');}};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"main\",{className:\"profile-main\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"section1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"thumbnail__\",children:[/*#__PURE__*/_jsx(\"img\",{src:userPhoto,alt:\"\"}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"file\",className:\"img-up\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"file\",accept:\".jpg, .png, .jpeg, .gif\",onChange:function onChange(e){e.preventDefault();var reader=new FileReader();var file=e.target.files[0];reader.onloadend=function(){setUserPhoto(reader.result);};reader.readAsDataURL(file);}}),\"\\uC774\\uBBF8\\uC9C0 \\uC5C5\\uB85C\\uB4DC\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"img-de\",onClick:function onClick(){handleImageSubmit();setModifymodal(false);history.go(0);},children:\"\\uC800\\uC7A5\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"profile-info\",children:ModifyModal===true?/*#__PURE__*/_jsx(\"form\",{children:/*#__PURE__*/_jsx(\"input\",{maxlength:\"50\",value:userIntro,placeholder:userIntro,onChange:function onChange(e){setUserIntro(e.target.value);}})}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{children:userIntro}),/*#__PURE__*/_jsx(\"button\",{className:\"fix-buttons\",onClick:function onClick(){setModifymodal(true);},children:\"\\uC790\\uAE30\\uC18C\\uAC1C \\uC218\\uC815\"})]})})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"section2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"myProfile\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"wrapper\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"title-wrapper\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"\\uB2C9\\uB124\\uC784\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"block-for-mobile\",children:[ModifyModal===true?null:/*#__PURE__*/_jsx(\"div\",{className:\"contents\",children:userNickname}),ModifyModal===true?/*#__PURE__*/_jsx(\"form\",{className:\"nickname-form\",children:/*#__PURE__*/_jsx(\"input\",{className:\"nickname-input\",placeholder:userNickname,onChange:function onChange(e){setUserNickname(e.target.value);}})}):/*#__PURE__*/_jsx(\"div\",{className:\"edit-wrapper\",children:/*#__PURE__*/_jsx(\"button\",{className:\"fix-button\",onClick:function onClick(){setModifymodal(true);},children:\"\\uC218\\uC815\"})})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"myProfile\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"wrapper\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"title-wrapper\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"point\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"block-for-mobile\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"contents\",children:userPoint}),/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Link,{to:\"pointcg\",children:/*#__PURE__*/_jsx(\"div\",{className:\"edit-wrapper\",children:/*#__PURE__*/_jsx(\"button\",{className:\"fix-button\",children:\"\\uCDA9\\uC804\\uD558\\uAE30\"})})}),/*#__PURE__*/_jsx(Link,{to:\"point\",children:/*#__PURE__*/_jsx(\"div\",{className:\"edit-wrapper\",children:/*#__PURE__*/_jsx(\"button\",{className:\"fix-button\",children:\"\\uD658\\uC804\\uD558\\uAE30\"})})})]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"myProfile\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"wrapper\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"title-wrapper\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD2F0\\uC5B4\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"block-for-mobile\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(FormControl,{className:classes.formControl,children:[userTier===undefined||userTier===null||userTier===\"\"?/*#__PURE__*/_jsx(InputLabel,{id:\"demo-controlled-open-select-label\",children:\"\\uD2F0\\uC5B4\\uB97C \\uC120\\uD0DD\\uD558\\uC138\\uC694\"}):/*#__PURE__*/_jsx(InputLabel,{id:\"demo-controlled-open-select-label\",children:userTier}),/*#__PURE__*/_jsxs(Select,{labelId:\"demo-controlled-open-select-label\",id:\"demo-controlled-open-select\",open:open,onClose:handleClose,onOpen:handleOpen,value:userTier,onChange:handleChange,children:[/*#__PURE__*/_jsx(MenuItem,{value:\"챌린저\",children:\"\\uCC4C\\uB9B0\\uC800\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"그랜드마스터\",children:\"\\uADF8\\uB79C\\uB4DC\\uB9C8\\uC2A4\\uD130\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"마스터\",children:\"\\uB9C8\\uC2A4\\uD130\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"다이아몬드\",children:\"\\uB2E4\\uC774\\uC544\\uBAAC\\uB4DC\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"플레티넘\",children:\"\\uD50C\\uB808\\uD2F0\\uB118\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"골드\",children:\"\\uACE8\\uB4DC\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"실버\",children:\"\\uC2E4\\uBC84\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"브론즈\",children:\"\\uBE0C\\uB860\\uC988\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"아이언\",children:\"\\uC544\\uC774\\uC5B8\"})]})]})})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"myProfile\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"wrapper\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"title-wrapper\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"\\uB4F1\\uAE09\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"block-for-mobile\",children:userGrade===0?/*#__PURE__*/_jsx(\"div\",{className:\"contents\"}):userGrade===1?/*#__PURE__*/_jsx(\"div\",{className:\"contents\",children:\"\\uD504\\uB9AC\\uBBF8\\uC5C4 \\uD30C\\uD2B8\\uB108\"}):userGrade===2?/*#__PURE__*/_jsx(\"div\",{className:\"contents\",children:\"\\uC77C\\uBC18 \\uD30C\\uD2B8\\uB108\"}):userGrade===3?/*#__PURE__*/_jsx(\"div\",{className:\"contents\",children:\"\\uD504\\uB9AC\\uBBF8\\uC5C4 \\uC218\\uAC15\\uC0DD\"}):userGrade===4?/*#__PURE__*/_jsx(\"div\",{className:\"contents\",children:\"\\uC77C\\uBC18 \\uC218\\uAC15\\uC0DD\"}):null})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"myProfile\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"wrapper\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"title-wrapper\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"\\uC544\\uC774\\uB514\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"block-for-mobile\",children:/*#__PURE__*/_jsx(\"div\",{className:\"contents\",children:userUsername_info})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"myProfile\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"wrapper\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"title-wrapper\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"\\uC774\\uBA54\\uC77C\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"block-for-mobile\",children:/*#__PURE__*/_jsx(\"div\",{className:\"contents\",children:userEmail_info})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"myProfile\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"wrapper\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"title-wrapper\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"\\uC774\\uB984\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"block-for-mobile\",children:/*#__PURE__*/_jsx(\"div\",{className:\"contents\",children:userName})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"myProfile\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"wrapper\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"title-wrapper\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"\\uC804\\uD654\\uBC88\\uD638\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"block-for-mobile\",children:/*#__PURE__*/_jsx(\"div\",{className:\"contents\",children:userNumber})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"myProfile\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"wrapper\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"title-wrapper\"}),/*#__PURE__*/_jsx(\"div\",{className:\"block-for-mobile\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"contents\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"out-button\",onClick:DeleteUser,children:\"\\uD68C\\uC6D0\\uD0C8\\uD1F4\"}),/*#__PURE__*/_jsx(\"button\",{className:\"save-button\",onClick:function onClick(){handleEffect(handleSubmit);setModifymodal(false);},children:\"\\uC800\\uC7A5\"})]})})]})})]})]})});}export default Profile;","map":{"version":3,"sources":["C:/django-react/frontend/src/Sidebar/Profile.js"],"names":["React","useState","useEffect","useHistory","Link","InputLabel","MenuItem","FormControl","Select","makeStyles","useStyles","theme","formControl","minWidth","maxHeight","position","bottom","Profile","props","classes","open","setOpen","handleChange","event","setUserTier","target","value","handleClose","handleOpen","history","ModifyModal","setModifymodal","userId","setUserId","userPhoto","setUserPhoto","userNickname","setUserNickname","userPoint","setUserPoint","userGrade","setUserGrade","userIntro","setUserIntro","userTier","userUsername_info","setUserName_info","userEmail_info","setUserEmail_info","userNumber","setUserNumber","userName","setUserName","fetch","headers","Authorization","localStorage","getItem","then","res","json","id","method","userData","photo","nickname","point","grade","myIntro","Tier","username_info","email_info","name","number","catch","error","console","log","sendData","handleEffect","handleSubmit","form_data","FormData","append","body","response","alert","handleImageSubmit","fileField","document","querySelector","files","DeleteUser","window","confirm","handleLogout","push","e","preventDefault","reader","FileReader","file","onloadend","result","readAsDataURL","go","undefined"],"mappings":"4RAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,UAAT,KAA2B,cAA3B,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAO,eAAP,CACA,MAAOC,CAAAA,UAAP,KAAuB,8BAAvB,CACA,MAAOC,CAAAA,QAAP,KAAqB,4BAArB,CACA,MAAOC,CAAAA,WAAP,KAAwB,+BAAxB,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CACA,OAASC,UAAT,KAA2B,0BAA3B,CAGA,GAAMC,CAAAA,SAAS,CAAGD,UAAU,CAAC,SAACE,KAAD,QAAY,CACrCC,WAAW,CAAE,CACXC,QAAQ,CAAE,GADC,CAEXC,SAAS,CAAE,CAFA,CAGb;AACEC,QAAQ,CAAG,UAJA,CAKXC,MAAM,CAAG,EALE,CADwB,CAAZ,EAAD,CAA5B,CAUA;AACA,QAASC,CAAAA,OAAT,CAAiBC,KAAjB,CAAuB,CACnB,GAAMC,CAAAA,OAAO,CAAGT,SAAS,EAAzB,CADmB,oBAEKV,KAAK,CAACC,QAAN,CAAe,KAAf,CAFL,oDAEZmB,IAFY,qBAENC,OAFM,qBAGnB,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,KAAD,CAAW,CAC5BC,WAAW,CAACD,KAAK,CAACE,MAAN,CAAaC,KAAd,CAAX,CACL,CAFC,CAIF,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACxBN,OAAO,CAAC,KAAD,CAAP,CACD,CAFD,CAIA,GAAMO,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CACvBP,OAAO,CAAC,IAAD,CAAP,CACD,CAFD,CAGE,GAAMQ,CAAAA,OAAO,CAAG1B,UAAU,EAA1B,CAdmB,cAeiBF,QAAQ,CAAC,KAAD,CAfzB,wCAed6B,WAfc,eAeDC,cAfC,eAgBnB;AACA;AACA;AACA;AACA;AACA;AAEJ;AAvBuB,eAwBO9B,QAAQ,EAxBf,yCAwBd+B,MAxBc,eAwBNC,SAxBM,8BAyBahC,QAAQ,EAzBrB,yCAyBdiC,SAzBc,eAyBHC,YAzBG,8BA0BmBlC,QAAQ,CAAC,EAAD,CA1B3B,yCA0BdmC,YA1Bc,eA0BAC,eA1BA,8BA2BapC,QAAQ,EA3BrB,0CA2BdqC,SA3Bc,gBA2BHC,YA3BG,gCA4BctC,QAAQ,EA5BtB,2CA4BduC,SA5Bc,gBA4BFC,YA5BE,gCA6BaxC,QAAQ,EA7BrB,2CA6BdyC,SA7Bc,gBA6BHC,YA7BG,gCA8BW1C,QAAQ,EA9BnB,2CA8Bd2C,QA9Bc,gBA8BJpB,WA9BI,gCA+ByBvB,QAAQ,EA/BjC,2CA+Bd4C,iBA/Bc,gBA+BKC,gBA/BL,gCAgCuB7C,QAAQ,EAhC/B,2CAgCd8C,cAhCc,gBAgCEC,iBAhCF,gCAiCe/C,QAAQ,EAjCvB,2CAiCdgD,UAjCc,gBAiCFC,aAjCE,gCAkCWjD,QAAQ,EAlCnB,2CAkCdkD,QAlCc,gBAkCJC,WAlCI,gBAoCnBlD,SAAS,CAAC,UAAI,CACVmD,KAAK,CAAC,8CAAD,CAAiD,CACpDC,OAAO,CAAE,CACPC,aAAa,eAASC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAT,CADN,CAD2C,CAAjD,CAAL,CAKCC,IALD,CAKM,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EALT,EAMCF,IAND,CAMM,SAAAE,IAAI,CAAI,CACZ;AACA,GAAIA,IAAI,CAACC,EAAT,CAAa,CACX5B,SAAS,CAAC2B,IAAI,CAACC,EAAN,CAAT,CACA;AACH,CAAAR,KAAK,CAAC,0CAA4CO,IAAI,CAACC,EAAjD,CAAsD,UAAvD,CAAkE,CAChEC,MAAM,CAAG,OADuD,CAEhER,OAAO,CAAE,CACLC,aAAa,eAASC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAT,CADR,CAFuD,CAAlE,CAAL,CAMIC,IANJ,CAMS,SAACC,GAAD,QAAOA,CAAAA,GAAG,CAACC,IAAJ,EAAP,EANT,CAOG;AAPH,CAQIF,IARJ,CAQS,SAACK,QAAD,CAAa,CACf5B,YAAY,CAAC4B,QAAQ,CAACC,KAAV,CAAZ,CACA3B,eAAe,CAAC0B,QAAQ,CAACE,QAAV,CAAf,CACA1B,YAAY,CAACwB,QAAQ,CAACG,KAAV,CAAZ,CACAzB,YAAY,CAACsB,QAAQ,CAACI,KAAV,CAAZ,CACAxB,YAAY,CAACoB,QAAQ,CAACK,OAAV,CAAZ,CACA5C,WAAW,CAACuC,QAAQ,CAACM,IAAV,CAAX,CACAvB,gBAAgB,CAACiB,QAAQ,CAACO,aAAV,CAAhB,CACAtB,iBAAiB,CAACe,QAAQ,CAACQ,UAAV,CAAjB,CACAnB,WAAW,CAACW,QAAQ,CAACS,IAAV,CAAX,CACAtB,aAAa,CAACa,QAAQ,CAACU,MAAV,CAAb,CACH,CAnBJ,EAqBIC,KArBJ,CAqBU,SAAAC,KAAK,CAAI,CACZC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACD,CAvBN,EAuBQ,CACR,CAnCD,EAmCGD,KAnCH,CAmCS,SAAAC,KAAK,CAAI,CACdC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACD,CArCH,EAuCH,CAxCQ,CA0CR,CAAC3C,MAAD,CA1CQ,CAAT,CA4CA,GAAI8C,CAAAA,QAAJ,CACA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,YAAD,CAAkB,CACnCF,QAAQ,CAAG,CACPZ,KAAK,CAAG5B,SADD,CAEP2B,QAAQ,CAAG7B,YAFJ,CAGP+B,KAAK,CAAG3B,SAHD,CAIP4B,OAAO,CAAG1B,SAJH,CAKP4B,aAAa,CAAGzB,iBALT,CAMP0B,UAAU,CAAGxB,cANN,CAOPyB,IAAI,CAAGrB,QAPA,CAQPsB,MAAM,CAAGxB,UARF,CASPoB,IAAI,CAAGzB,QATA,CAUPoB,KAAK,CAAG9B,SAVD,CAAX,CAYA8C,YAAY,GACf,CAdD,CAgBA,GAAMA,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACvB,GAAIC,CAAAA,SAAS,CAAG,GAAIC,CAAAA,QAAJ,EAAhB,CACAD,SAAS,CAACE,MAAV,CAAiB,OAAjB,CAA0BL,QAAQ,CAACZ,KAAnC,EACAe,SAAS,CAACE,MAAV,CAAiB,UAAjB,CAA6BL,QAAQ,CAACb,QAAtC,EACAgB,SAAS,CAACE,MAAV,CAAiB,OAAjB,CAA0BL,QAAQ,CAACX,KAAnC,EACAc,SAAS,CAACE,MAAV,CAAiB,SAAjB,CAA4BL,QAAQ,CAACV,OAArC,EACAa,SAAS,CAACE,MAAV,CAAiB,MAAjB,CAAyBL,QAAQ,CAACT,IAAlC,EACAhB,KAAK,CAAC,0CAA4CrB,MAA5C,CAAqD,UAAtD,CAAkE,CACnE8B,MAAM,CAAG,OAD0D,CAEnER,OAAO,CAAE,CACLC,aAAa,eAAUC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAV,CADR,CAF0D,CAKnE2B,IAAI,CAAGH,SAL4D,CAAlE,CAAL,CAOCvB,IAPD,CAOM,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EAPT,EAQCc,KARD,CAQO,SAAAC,KAAK,QAAIC,CAAAA,OAAO,CAACD,KAAR,CAAc,QAAd,CAAwBA,KAAxB,CAAJ,EARZ,EASCjB,IATD,CASM,SAAA2B,QAAQ,CAAI,CAACC,KAAK,CAAC,oBAAD,CAAuBD,QAAvB,CAAL,CAAsC,CATzD,EAUH,CAjBD,CAmBA,GAAME,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,EAAM,CAC5B,GAAIN,CAAAA,SAAS,CAAG,GAAIC,CAAAA,QAAJ,EAAhB,CACA,GAAIM,CAAAA,SAAS,CAAGC,QAAQ,CAACC,aAAT,CAAuB,oBAAvB,CAAhB,CACAT,SAAS,CAACE,MAAV,CAAiB,OAAjB,CAA0BK,SAAS,CAACG,KAAV,CAAgB,CAAhB,CAA1B,EACAtC,KAAK,CAAC,0CAA4CrB,MAA5C,CAAqD,UAAtD,CAAkE,CACnE8B,MAAM,CAAG,OAD0D,CAEnER,OAAO,CAAE,CACLC,aAAa,eAAUC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAV,CADR,CAF0D,CAKnE2B,IAAI,CAAGH,SAL4D,CAAlE,CAAL,CAOCvB,IAPD,CAOM,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EAPT,EAQCF,IARD,CAQM,SAAA2B,QAAQ,CAAI,CAACC,KAAK,CAAC,iBAAD,CAAoBD,QAApB,CAAL,CAAmC,CARtD,EASH,CAbD,CAeA,GAAMO,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAI,CACnB,GAAGC,MAAM,CAACC,OAAP,CAAe,eAAf,IAAkC,IAArC,CAA0C,CACtCzC,KAAK,CAAC,8CAAD,CAAiD,CAClDC,OAAO,CAAE,CACTC,aAAa,eAASC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAT,CADJ,CADyC,CAAjD,CAAL,CAKCC,IALD,CAKM,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EALT,EAMCF,IAND,CAMM,SAAAE,IAAI,CAAI,CACVP,KAAK,CAAC,0CAA4CO,IAAI,CAACC,EAAjD,CAAsD,UAAvD,CAAkE,CACnEC,MAAM,CAAG,QAD0D,CAEnER,OAAO,CAAE,CACLC,aAAa,iBAAWC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAX,CADR,CAF0D,CAAlE,CAAL,CAMCC,IAND,CAMM,SAACC,GAAD,QAAOA,CAAAA,GAAG,CAACC,IAAJ,EAAP,EANN,EAOCc,KAPD,CAOO,SAAAC,KAAK,CAAI,CACZC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACC,CATL,EASO,CACV,CAjBD,EAiBGD,KAjBH,CAiBS,SAAAC,KAAK,CAAI,CACdC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACH,CAnBD,EAoBAzD,KAAK,CAAC6E,YAAN,GACAlE,OAAO,CAACmE,IAAR,CAAa,QAAb,EACH,CACJ,CAzBD,CA0BA,mBACI,sCACI,cAAM,SAAS,CAAC,cAAhB,wBACI,iBAAS,SAAS,CAAC,UAAnB,wBACI,aAAK,SAAS,CAAC,aAAf,wBACI,YAAK,GAAG,CAAE9D,SAAV,CAAqB,GAAG,CAAC,EAAzB,EADJ,cAEI,eAAO,OAAO,CAAC,MAAf,CAAsB,SAAS,CAAC,QAAhC,wBACI,cAAO,IAAI,CAAC,MAAZ,CAAmB,EAAE,CAAC,MAAtB,CAA6B,MAAM,CAAC,yBAApC,CAA8D,QAAQ,CAAE,kBAAC+D,CAAD,CAAK,CACzEA,CAAC,CAACC,cAAF,GACA,GAAIC,CAAAA,MAAM,CAAG,GAAIC,CAAAA,UAAJ,EAAb,CACA,GAAIC,CAAAA,IAAI,CAAGJ,CAAC,CAACxE,MAAF,CAASkE,KAAT,CAAe,CAAf,CAAX,CACAQ,MAAM,CAACG,SAAP,CAAmB,UAAM,CACzBnE,YAAY,CAACgE,MAAM,CAACI,MAAR,CAAZ,CACC,CAFD,CAGAJ,MAAM,CAACK,aAAP,CAAqBH,IAArB,EACH,CARD,EADJ,2CAFJ,cAaI,eAAQ,SAAS,CAAC,QAAlB,CAA2B,OAAO,CAAE,kBAAI,CACpCd,iBAAiB,GACjBxD,cAAc,CAAC,KAAD,CAAd,CACAF,OAAO,CAAC4E,EAAR,CAAW,CAAX,EACH,CAJD,0BAbJ,GADJ,cAqBI,YAAK,SAAS,CAAC,cAAf,UAEQ3E,WAAW,GAAK,IAAhB,cAEI,mCACI,cAAO,SAAS,CAAC,IAAjB,CAAqB,KAAK,CAAEY,SAA5B,CAAuC,WAAW,CAAEA,SAApD,CAA+D,QAAQ,CAAE,kBAACuD,CAAD,CAAK,CAC1EtD,YAAY,CAACsD,CAAC,CAACxE,MAAF,CAASC,KAAV,CAAZ,CACH,CAFD,EADJ,EAFJ,cASI,wCACA,oBAAKgB,SAAL,EADA,cAEA,eAAQ,SAAS,CAAC,aAAlB,CAAgC,OAAO,CAAE,kBAAI,CACzCX,cAAc,CAAC,IAAD,CAAd,CACH,CAFD,mDAFA,GAXZ,EArBJ,GADJ,cA6CI,iBAAS,SAAS,CAAC,UAAnB,wBACI,YAAK,SAAS,CAAC,WAAf,uBACI,aAAK,SAAS,CAAC,SAAf,wBACI,YAAK,SAAS,CAAC,eAAf,uBACI,0CADJ,EADJ,cAII,aAAK,SAAS,CAAC,kBAAf,WAEQD,WAAW,GAAK,IAAhB,CACC,IADD,cAEC,YAAK,SAAS,CAAC,UAAf,UAA2BM,YAA3B,EAJT,CAQQN,WAAW,GAAK,IAAhB,cAEI,aAAM,SAAS,CAAC,eAAhB,uBACI,cAAO,SAAS,CAAC,gBAAjB,CAAkC,WAAW,CAAEM,YAA/C,CAA6D,QAAQ,CAAE,kBAAC6D,CAAD,CAAK,CACxE5D,eAAe,CAAC4D,CAAC,CAACxE,MAAF,CAASC,KAAV,CAAf,CACH,CAFD,EADJ,EAFJ,cAUI,YAAK,SAAS,CAAC,cAAf,uBACI,eAAQ,SAAS,CAAC,YAAlB,CAA+B,OAAO,CAAE,kBAAI,CAACK,cAAc,CAAC,IAAD,CAAd,CAAqB,CAAlE,0BADJ,EAlBZ,GAJJ,GADJ,EADJ,cAkCI,YAAK,SAAS,CAAC,WAAf,uBACI,aAAK,SAAS,CAAC,SAAf,wBACI,YAAK,SAAS,CAAC,eAAf,uBACI,6BADJ,EADJ,cAII,aAAK,SAAS,CAAC,kBAAf,wBACQ,YAAK,SAAS,CAAC,UAAf,UAA2BO,SAA3B,EADR,cAGY,wCACA,KAAC,IAAD,EAAM,EAAE,CAAC,SAAT,uBACA,YAAK,SAAS,CAAC,cAAf,uBACI,eAAQ,SAAS,CAAC,YAAlB,sCADJ,EADA,EADA,cAOA,KAAC,IAAD,EAAM,EAAE,CAAC,OAAT,uBACA,YAAK,SAAS,CAAC,cAAf,uBACI,eAAQ,SAAS,CAAC,YAAlB,sCADJ,EADA,EAPA,GAHZ,GAJJ,GADJ,EAlCJ,cA4DI,YAAK,SAAS,CAAC,WAAf,uBACI,aAAK,SAAS,CAAC,SAAf,wBACI,YAAK,SAAS,CAAC,eAAf,uBACI,oCADJ,EADJ,cAII,YAAK,SAAS,CAAC,kBAAf,uBAEQ,kCACA,MAAC,WAAD,EAAa,SAAS,CAAEnB,OAAO,CAACP,WAAhC,WAECgC,QAAQ,GAAK8D,SAAd,EAA6B9D,QAAQ,GAAK,IAA1C,EAAoDA,QAAQ,GAAK,EAAjE,cACG,KAAC,UAAD,EAAY,EAAE,CAAC,mCAAf,+DADH,cAEG,KAAC,UAAD,EAAY,EAAE,CAAC,mCAAf,UAAoDA,QAApD,EAJH,cAMA,MAAC,MAAD,EACA,OAAO,CAAC,mCADR,CAEA,EAAE,CAAC,6BAFH,CAGA,IAAI,CAAExB,IAHN,CAIA,OAAO,CAAEO,WAJT,CAKA,MAAM,CAAEC,UALR,CAMA,KAAK,CAAEgB,QANP,CAOA,QAAQ,CAAEtB,YAPV,wBAQA,KAAC,QAAD,EAAU,KAAK,CAAE,KAAjB,gCARA,cASA,KAAC,QAAD,EAAU,KAAK,CAAE,QAAjB,kDATA,cAUA,KAAC,QAAD,EAAU,KAAK,CAAE,KAAjB,gCAVA,cAWA,KAAC,QAAD,EAAU,KAAK,CAAE,OAAjB,4CAXA,cAYA,KAAC,QAAD,EAAU,KAAK,CAAE,MAAjB,sCAZA,cAaA,KAAC,QAAD,EAAU,KAAK,CAAE,IAAjB,0BAbA,cAcA,KAAC,QAAD,EAAU,KAAK,CAAE,IAAjB,0BAdA,cAeA,KAAC,QAAD,EAAU,KAAK,CAAE,KAAjB,gCAfA,cAgBA,KAAC,QAAD,EAAU,KAAK,CAAE,KAAjB,gCAhBA,GANA,GADA,EAFR,EAJJ,GADJ,EA5DJ,cAqHI,YAAK,SAAS,CAAC,WAAf,uBACI,aAAK,SAAS,CAAC,SAAf,wBACI,YAAK,SAAS,CAAC,eAAf,uBACI,oCADJ,EADJ,cAII,YAAK,SAAS,CAAC,kBAAf,UAEkBkB,SAAS,GAAK,CAAd,cAAkB,YAAK,SAAS,CAAC,UAAf,EAAlB,CACAA,SAAS,GAAK,CAAd,cAAkB,YAAK,SAAS,CAAC,UAAf,yDAAlB,CACAA,SAAS,GAAK,CAAd,cAAkB,YAAK,SAAS,CAAC,UAAf,6CAAlB,CACAA,SAAS,GAAK,CAAd,cAAkB,YAAK,SAAS,CAAC,UAAf,yDAAlB,CACAA,SAAS,GAAK,CAAd,cAAkB,YAAK,SAAS,CAAC,UAAf,6CAAlB,CACD,IAPjB,EAJJ,GADJ,EArHJ,cAwII,YAAK,SAAS,CAAC,WAAf,uBACI,aAAK,SAAS,CAAC,SAAf,wBACI,YAAK,SAAS,CAAC,eAAf,uBACI,0CADJ,EADJ,cAII,YAAK,SAAS,CAAC,kBAAf,uBACQ,YAAK,SAAS,CAAC,UAAf,UAA2BK,iBAA3B,EADR,EAJJ,GADJ,EAxIJ,cAmJI,YAAK,SAAS,CAAC,WAAf,uBACI,aAAK,SAAS,CAAC,SAAf,wBACI,YAAK,SAAS,CAAC,eAAf,uBACI,0CADJ,EADJ,cAII,YAAK,SAAS,CAAC,kBAAf,uBACQ,YAAK,SAAS,CAAC,UAAf,UAA2BE,cAA3B,EADR,EAJJ,GADJ,EAnJJ,cA8JI,YAAK,SAAS,CAAC,WAAf,uBACI,aAAK,SAAS,CAAC,SAAf,wBACI,YAAK,SAAS,CAAC,eAAf,uBACI,oCADJ,EADJ,cAII,YAAK,SAAS,CAAC,kBAAf,uBACQ,YAAK,SAAS,CAAC,UAAf,UAA2BI,QAA3B,EADR,EAJJ,GADJ,EA9JJ,cAyKI,YAAK,SAAS,CAAC,WAAf,uBACI,aAAK,SAAS,CAAC,SAAf,wBACI,YAAK,SAAS,CAAC,eAAf,uBACI,gDADJ,EADJ,cAII,YAAK,SAAS,CAAC,kBAAf,uBACI,YAAK,SAAS,CAAC,UAAf,UAA2BF,UAA3B,EADJ,EAJJ,GADJ,EAzKJ,cAqLI,YAAK,SAAS,CAAC,WAAf,uBACI,aAAK,SAAS,CAAC,SAAf,wBACI,YAAK,SAAS,CAAC,eAAf,EADJ,cAGI,YAAK,SAAS,CAAC,kBAAf,uBACI,aAAK,SAAS,CAAC,UAAf,wBACI,eAAQ,SAAS,CAAC,YAAlB,CAA+B,OAAO,CAAE2C,UAAxC,sCADJ,cAEI,eAAQ,SAAS,CAAC,aAAlB,CAAgC,OAAO,CAAE,kBAAI,CACzCb,YAAY,CAACC,YAAD,CAAZ,CACAjD,cAAc,CAAC,KAAD,CAAd,CACH,CAHD,0BAFJ,GADJ,EAHJ,GADJ,EArLJ,GA7CJ,GADJ,EADJ,CAwPH,CACD,cAAed,CAAAA,OAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useHistory } from 'react-router';\r\nimport { Link } from \"react-router-dom\";\r\nimport './Profile.css'\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    formControl: {\r\n      minWidth: 200,\r\n      maxHeight: 0,\r\n    //   marginBottom : 10,\r\n      position : 'relative',\r\n      bottom : 22,\r\n    },\r\n  }));\r\n\r\n// 모달쓰기위한 \r\nfunction Profile(props){\r\n    const classes = useStyles();\r\n    const [open, setOpen] = React.useState(false);\r\n    const handleChange = (event) => {\r\n        setUserTier(event.target.value);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleOpen = () => {\r\n    setOpen(true);\r\n  };\r\n    const history = useHistory()\r\n    let [ModifyModal, setModifymodal] = useState(false)\r\n    // let [tierModal, setTier] = useState()\r\n    // let [tier] = useState(false) 티어\r\n    // let [username_info] = useState(false) 아이디\r\n    // let [email_info] = useState(false) 이메일 \r\n    // let [number] = useState(false) 번호\r\n    // let [name] = useState(false) 이름\r\n    \r\n//profile[테이블에서 정보 받아옴]\r\n    let [userId, setUserId] = useState()\r\n    let [userPhoto, setUserPhoto] = useState()\r\n    let [userNickname, setUserNickname] = useState(\"\")\r\n    let [userPoint, setUserPoint] = useState()\r\n    let [userGrade,  setUserGrade] = useState()\r\n    let [userIntro, setUserIntro] = useState()\r\n    let [userTier, setUserTier] = useState()\r\n    let [userUsername_info, setUserName_info] = useState()\r\n    let [userEmail_info, setUserEmail_info] = useState()\r\n    let [userNumber, setUserNumber] = useState()\r\n    let [userName, setUserName] = useState()\r\n\r\n    useEffect(()=>{\r\n        fetch('http://39.118.174.168:8000/api/current_user/', {\r\n          headers: {\r\n            Authorization: `JWT ${localStorage.getItem('token')}`\r\n          }\r\n        })\r\n        .then(res => res.json())\r\n        .then(json => {\r\n          // 현재 유저 정보 받아왔다면, 로그인 상태로 state 업데이트 하고\r\n          if (json.id) {\r\n            setUserId(json.id)\r\n            //유저정보를 받아왔으면 해당 user의 프로필을 받아온다.\r\n        }fetch('http://39.118.174.168:8000/api/profile/' + json.id + '/update/',{\r\n                method : 'PATCH',\r\n                headers: {\r\n                    Authorization: `JWT ${localStorage.getItem('token')}`\r\n                },\r\n            })\r\n            .then((res)=>res.json())\r\n            // 데이터베이스에서 가져오는 정확한 명\r\n            .then((userData)=> {\r\n                setUserPhoto(userData.photo) ;\r\n                setUserNickname(userData.nickname);\r\n                setUserPoint(userData.point);\r\n                setUserGrade(userData.grade);\r\n                setUserIntro(userData.myIntro);\r\n                setUserTier(userData.Tier);\r\n                setUserName_info(userData.username_info);\r\n                setUserEmail_info(userData.email_info);\r\n                setUserName(userData.name);\r\n                setUserNumber(userData.number);\r\n            })\r\n            \r\n            .catch(error => {\r\n                console.log(error);\r\n              });;\r\n        }).catch(error => {\r\n            console.log(error)\r\n          });\r\n          \r\n    }\r\n    \r\n    ,[userId]) \r\n\r\n    let sendData;\r\n    const handleEffect = (handleSubmit) => {\r\n        sendData = {\r\n            point : userPoint,\r\n            nickname : userNickname,\r\n            grade : userGrade,\r\n            myIntro : userIntro,\r\n            username_info : userUsername_info,\r\n            email_info : userEmail_info,\r\n            name : userName,\r\n            number : userNumber,\r\n            Tier : userTier,\r\n            photo : userPhoto\r\n        }\r\n        handleSubmit()\r\n    }\r\n\r\n    const handleSubmit = () => {\r\n        let form_data = new FormData();\r\n        form_data.append('point', sendData.point);\r\n        form_data.append('nickname', sendData.nickname);\r\n        form_data.append('grade', sendData.grade);\r\n        form_data.append('myIntro', sendData.myIntro);\r\n        form_data.append('Tier', sendData.Tier);\r\n        fetch('http://39.118.174.168:8000/api/profile/' + userId + '/update/', {\r\n            method : 'PATCH',\r\n            headers: {\r\n                Authorization : `JWT ${localStorage.getItem('token')}`,\r\n            },\r\n            body : form_data\r\n        })\r\n        .then(res => res.json())\r\n        .catch(error => console.error('Error:', error))\r\n        .then(response => {alert('프로필 정보 변경의 성공하셨습니다', response)})\r\n    };\r\n\r\n    const handleImageSubmit = () => {\r\n        let form_data = new FormData();\r\n        let fileField = document.querySelector('input[type=\"file\"]');\r\n        form_data.append('photo', fileField.files[0]);\r\n        fetch('http://39.118.174.168:8000/api/profile/' + userId + '/update/', {\r\n            method : 'PATCH',\r\n            headers: {\r\n                Authorization : `JWT ${localStorage.getItem('token')}`,\r\n            },\r\n            body : form_data\r\n        })\r\n        .then(res => res.json())\r\n        .then(response => {alert('이미지 저장의 성공하셨습니다', response)})\r\n    };\r\n\r\n    const DeleteUser = ()=>{\r\n        if(window.confirm('정말 삭제하시겠습니까 ?')===true){\r\n            fetch('http://39.118.174.168:8000/api/current_user/', {\r\n                headers: {\r\n                Authorization: `JWT ${localStorage.getItem('token')}`\r\n                }\r\n            })\r\n            .then(res => res.json())\r\n            .then(json => {\r\n                fetch('http://39.118.174.168:8000/api/profile/' + json.id + '/delete/',{\r\n                    method : 'DELETE',\r\n                    headers: {\r\n                        Authorization: `Token ${localStorage.getItem('token')}`,\r\n                    },\r\n                })\r\n                .then((res)=>res.json())\r\n                .catch(error => {\r\n                    console.log(error);\r\n                    });;\r\n            }).catch(error => {\r\n                console.log(error)\r\n            });\r\n            props.handleLogout()\r\n            history.push('/login')\r\n        }\r\n    }\r\n    return(\r\n        <>\r\n            <main className=\"profile-main\">\r\n                <section className=\"section1\">\r\n                    <div className=\"thumbnail__\">\r\n                        <img src={userPhoto} alt=\"\"></img>\r\n                        <label htmlFor=\"file\" className=\"img-up\">\r\n                            <input type=\"file\" id=\"file\" accept=\".jpg, .png, .jpeg, .gif\" onChange={(e)=>{\r\n                                e.preventDefault();\r\n                                let reader = new FileReader();\r\n                                let file = e.target.files[0];\r\n                                reader.onloadend = () => {\r\n                                setUserPhoto(reader.result)\r\n                                }\r\n                                reader.readAsDataURL(file);\r\n                            }}></input>\r\n                        이미지 업로드</label>\r\n                        <button className=\"img-de\" onClick={()=>{\r\n                            handleImageSubmit()\r\n                            setModifymodal(false)\r\n                            history.go(0)\r\n                        }}>저장</button>\r\n                    </div>\r\n\r\n                    <div className=\"profile-info\">\r\n                        {\r\n                            ModifyModal === true\r\n                            ?(\r\n                                <form>\r\n                                    <input maxlength=\"50\"value={userIntro} placeholder={userIntro} onChange={(e)=>{\r\n                                        setUserIntro(e.target.value)\r\n                                    }}></input>\r\n                                </form>\r\n                            )\r\n                            :(\r\n                                <>\r\n                                <h2>{userIntro}</h2>\r\n                                <button className=\"fix-buttons\" onClick={()=>{\r\n                                    setModifymodal(true)\r\n                                }}>자기소개 수정</button>\r\n                                </>\r\n                            )\r\n                        }\r\n                    </div>\r\n\r\n                </section>\r\n                             \r\n                <section className=\"section2\">  \r\n                    <div className=\"myProfile\">\r\n                        <div className=\"wrapper\">\r\n                            <div className=\"title-wrapper\">\r\n                                <h3>닉네임</h3>\r\n                            </div>\r\n                            <div className=\"block-for-mobile\">\r\n                                {\r\n                                    ModifyModal === true\r\n                                    ?null\r\n                                    :<div className=\"contents\">{userNickname}</div>\r\n                                }\r\n                                    \r\n                                {\r\n                                    ModifyModal === true\r\n                                    ?(\r\n                                        <form className=\"nickname-form\">\r\n                                            <input className=\"nickname-input\" placeholder={userNickname} onChange={(e)=>{\r\n                                                setUserNickname(e.target.value)\r\n                                            }}></input>\r\n                                        </form>\r\n                                        \r\n                                    )\r\n                                    :(\r\n                                        <div className=\"edit-wrapper\">\r\n                                            <button className=\"fix-button\" onClick={()=>{setModifymodal(true)}}>수정</button>\r\n                                        </div>\r\n                                    )\r\n                                }\r\n                            </div>\r\n                        </div>    \r\n                    </div>\r\n                                \r\n                                \r\n                    <div className=\"myProfile\">\r\n                        <div className=\"wrapper\">\r\n                            <div className=\"title-wrapper\">\r\n                                <h3>point</h3>\r\n                            </div>\r\n                            <div className=\"block-for-mobile\">\r\n                                    <div className=\"contents\">{userPoint}</div>\r\n                                {\r\n                                        <>\r\n                                        <Link to=\"pointcg\">\r\n                                        <div className=\"edit-wrapper\">\r\n                                            <button className=\"fix-button\">충전하기</button>\r\n                                        </div>\r\n                                        </Link>\r\n                                        \r\n                                        <Link to=\"point\">\r\n                                        <div className=\"edit-wrapper\">\r\n                                            <button className=\"fix-button\">환전하기</button>\r\n                                        </div>\r\n                                        </Link>\r\n                                        </>\r\n                                }\r\n                            </div>\r\n                        </div>    \r\n                    </div>\r\n\r\n                    <div className=\"myProfile\">\r\n                        <div className=\"wrapper\">\r\n                            <div className=\"title-wrapper\">\r\n                                <h3>티어</h3>\r\n                            </div>\r\n                            <div className=\"block-for-mobile\">\r\n                                {\r\n                                    <div>\r\n                                    <FormControl className={classes.formControl}>\r\n                                    {  \r\n                                    (userTier === undefined) || (userTier === null) || (userTier === \"\")\r\n                                    ? (<InputLabel id=\"demo-controlled-open-select-label\">티어를 선택하세요</InputLabel>)\r\n                                    : (<InputLabel id=\"demo-controlled-open-select-label\">{userTier}</InputLabel>) \r\n                                    }\r\n                                    <Select\r\n                                    labelId=\"demo-controlled-open-select-label\"\r\n                                    id=\"demo-controlled-open-select\"\r\n                                    open={open}\r\n                                    onClose={handleClose}\r\n                                    onOpen={handleOpen}\r\n                                    value={userTier}\r\n                                    onChange={handleChange}>\r\n                                    <MenuItem value={\"챌린저\"}>챌린저</MenuItem>\r\n                                    <MenuItem value={\"그랜드마스터\"}>그랜드마스터</MenuItem>\r\n                                    <MenuItem value={\"마스터\"}>마스터</MenuItem>\r\n                                    <MenuItem value={\"다이아몬드\"}>다이아몬드</MenuItem>\r\n                                    <MenuItem value={\"플레티넘\"}>플레티넘</MenuItem>\r\n                                    <MenuItem value={\"골드\"}>골드</MenuItem>\r\n                                    <MenuItem value={\"실버\"}>실버</MenuItem>\r\n                                    <MenuItem value={\"브론즈\"}>브론즈</MenuItem>\r\n                                    <MenuItem value={\"아이언\"}>아이언</MenuItem>\r\n                                    </Select>\r\n                                    </FormControl>\r\n                                    </div>\r\n                                }\r\n\r\n                                    {/* {\r\n                                    tierModal === {userTier}\r\n                                    ?(  <form className=\"nickname-form\">\r\n                                    <input className=\"nickname-input\" placeholder={{userTier}} onChange={(e)=>{\r\n                                        setUserTier(e.target.value)\r\n                                    }}></input>\r\n                                     <div className=\"edit-wrapper\">\r\n                                            <button className=\"fix-button\" onClick={()=>{setUserTier(true)}}>수정</button>\r\n                                        </div>\r\n                                    \r\n                                        </form>\r\n                                    )\r\n                                    :(\r\n                                        <div className=\"contents\">{userTier}</div> \r\n                                    )\r\n                                    } */}\r\n                                \r\n                            </div>\r\n                        </div>    \r\n                    </div>\r\n\r\n                    <div className=\"myProfile\">\r\n                        <div className=\"wrapper\">\r\n                            <div className=\"title-wrapper\">\r\n                                <h3>등급</h3>\r\n                            </div>\r\n                            <div className=\"block-for-mobile\">\r\n                                        {\r\n                                              userGrade === 0 ? <div className=\"contents\"></div> \r\n                                            : userGrade === 1 ? <div className=\"contents\">프리미엄 파트너</div>\r\n                                            : userGrade === 2 ? <div className=\"contents\">일반 파트너</div>\r\n                                            : userGrade === 3 ? <div className=\"contents\">프리미엄 수강생</div>\r\n                                            : userGrade === 4 ? <div className=\"contents\">일반 수강생</div>\r\n                                            :null\r\n                                        }\r\n                            </div>\r\n                        </div>    \r\n                    </div>\r\n\r\n                    \r\n                    <div className=\"myProfile\">\r\n                        <div className=\"wrapper\">\r\n                            <div className=\"title-wrapper\">\r\n                                <h3>아이디</h3>\r\n                            </div>\r\n                            <div className=\"block-for-mobile\">\r\n                                    <div className=\"contents\">{userUsername_info}</div>  \r\n                            </div>\r\n                        </div>    \r\n                    </div>\r\n\r\n                    <div className=\"myProfile\">\r\n                        <div className=\"wrapper\">\r\n                            <div className=\"title-wrapper\">\r\n                                <h3>이메일</h3>\r\n                            </div>\r\n                            <div className=\"block-for-mobile\">\r\n                                    <div className=\"contents\">{userEmail_info}</div>  \r\n                            </div>\r\n                        </div>    \r\n                    </div>\r\n\r\n                    <div className=\"myProfile\">\r\n                        <div className=\"wrapper\">\r\n                            <div className=\"title-wrapper\">\r\n                                <h3>이름</h3>\r\n                            </div>\r\n                            <div className=\"block-for-mobile\">\r\n                                    <div className=\"contents\">{userName}</div>\r\n                            </div>\r\n                        </div>    \r\n                    </div>\r\n                    \r\n                    <div className=\"myProfile\">\r\n                        <div className=\"wrapper\">\r\n                            <div className=\"title-wrapper\">\r\n                                <h3>전화번호</h3>\r\n                            </div>\r\n                            <div className=\"block-for-mobile\">\r\n                                <div className=\"contents\">{userNumber}</div>\r\n                            </div>\r\n                        </div>    \r\n                    </div>\r\n\r\n                    \r\n                    <div className=\"myProfile\">\r\n                        <div className=\"wrapper\">\r\n                            <div className=\"title-wrapper\">\r\n                            </div>\r\n                            <div className=\"block-for-mobile\">\r\n                                <div className=\"contents\">\r\n                                    <button className=\"out-button\" onClick={DeleteUser}>회원탈퇴</button>\r\n                                    <button className=\"save-button\" onClick={()=>{\r\n                                        handleEffect(handleSubmit)\r\n                                        setModifymodal(false)\r\n                                    }}>저장</button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                </section>\r\n            </main>\r\n        </>\r\n    )\r\n}\r\nexport default Profile;"]},"metadata":{},"sourceType":"module"}